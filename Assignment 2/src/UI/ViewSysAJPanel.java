/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JPanel.java to edit this template
 */
package ui;

import javax.swing.JOptionPane;
import javax.swing.table.DefaultTableModel;
import model.DataService;
import model.SystemAdmin;

/**
 *
 * @author madhav
 */
public class ViewSysAJPanel extends javax.swing.JPanel {

    /**
     * Creates new form ViewSysAJPanel
     */
    DataService sAdmin;
    public ViewSysAJPanel(DataService sAdmin) {
        initComponents();
        this.sAdmin = sAdmin;
        populateTable();
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        lblViewSysA = new javax.swing.JLabel();
        jScrollPane1 = new javax.swing.JScrollPane();
        tblSysA = new javax.swing.JTable();
        btnViewSysA = new javax.swing.JButton();
        btnDeleteSysA = new javax.swing.JButton();
        txtSysAPswd = new javax.swing.JTextField();
        lblSysAID = new javax.swing.JLabel();
        lblSysAName = new javax.swing.JLabel();
        lblSysAuname = new javax.swing.JLabel();
        lblSysApswd = new javax.swing.JLabel();
        txtSysAID = new javax.swing.JTextField();
        txtSysAName = new javax.swing.JTextField();
        txtSysAUname = new javax.swing.JTextField();

        lblViewSysA.setFont(new java.awt.Font("Helvetica Neue", 0, 18)); // NOI18N
        lblViewSysA.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        lblViewSysA.setText("View System Administrator Details");

        tblSysA.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null}
            },
            new String [] {
                "ID", "Name", "Username", "Password"
            }
        ));
        jScrollPane1.setViewportView(tblSysA);

        btnViewSysA.setText("View");
        btnViewSysA.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnViewSysAActionPerformed(evt);
            }
        });

        btnDeleteSysA.setText("Delete");
        btnDeleteSysA.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnDeleteSysAActionPerformed(evt);
            }
        });

        txtSysAPswd.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtSysAPswdActionPerformed(evt);
            }
        });

        lblSysAID.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        lblSysAID.setText("ID:");

        lblSysAName.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        lblSysAName.setText("Name:");

        lblSysAuname.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        lblSysAuname.setText("Username:");

        lblSysApswd.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        lblSysApswd.setText("Password:");

        txtSysAID.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtSysAIDActionPerformed(evt);
            }
        });

        txtSysAUname.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtSysAUnameActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(this);
        this.setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jScrollPane1)
                .addContainerGap())
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(btnViewSysA)
                .addGap(63, 63, 63)
                .addComponent(btnDeleteSysA)
                .addGap(71, 71, 71))
            .addGroup(layout.createSequentialGroup()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addGap(248, 248, 248)
                        .addComponent(lblViewSysA, javax.swing.GroupLayout.PREFERRED_SIZE, 342, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(layout.createSequentialGroup()
                        .addGap(289, 289, 289)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(lblSysAuname, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(lblSysApswd, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(lblSysAName)
                            .addComponent(lblSysAID, javax.swing.GroupLayout.PREFERRED_SIZE, 38, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(38, 38, 38)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(txtSysAPswd, javax.swing.GroupLayout.DEFAULT_SIZE, 163, Short.MAX_VALUE)
                            .addComponent(txtSysAUname)
                            .addComponent(txtSysAName)
                            .addComponent(txtSysAID))))
                .addContainerGap(262, Short.MAX_VALUE))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGap(31, 31, 31)
                .addComponent(lblViewSysA, javax.swing.GroupLayout.PREFERRED_SIZE, 36, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(27, 27, 27)
                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 134, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(37, 37, 37)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(btnViewSysA)
                    .addComponent(btnDeleteSysA))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 45, Short.MAX_VALUE)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(lblSysAID)
                    .addComponent(txtSysAID, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(lblSysAName)
                    .addComponent(txtSysAName, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(lblSysAuname)
                    .addComponent(txtSysAUname, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(lblSysApswd)
                    .addComponent(txtSysAPswd, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(95, 95, 95))
        );
    }// </editor-fold>//GEN-END:initComponents

    private void btnViewSysAActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnViewSysAActionPerformed
        // TODO add your handling code here:
        if(sAdmin!=null){
            int selectedRowIndex = tblSysA.getSelectedRow();
            if(selectedRowIndex<0){
                JOptionPane.showMessageDialog(this,"Please select a row to delete.");
                return;
            }
            DefaultTableModel model= (DefaultTableModel) tblSysA.getModel();
            SystemAdmin selectedSysAdmin = (SystemAdmin) model.getValueAt(selectedRowIndex, 0);
            txtSysAID.setText(selectedSysAdmin.getSysID());
            txtSysAName.setText(selectedSysAdmin.getSysName());
            txtSysAUname.setText(selectedSysAdmin.getSysUsername());
            txtSysAPswd.setText(selectedSysAdmin.getSysPassword());
        
        }
        else{
            JOptionPane.showMessageDialog(this,"Row empty.");
        }

    }//GEN-LAST:event_btnViewSysAActionPerformed

    private void btnDeleteSysAActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnDeleteSysAActionPerformed
        // TODO add your handling code here:
        if(sAdmin!=null){
            int selectedRowIndex = tblSysA.getSelectedRow();
            if(selectedRowIndex<0){
                JOptionPane.showMessageDialog(this,"Please select a row to delete.");
                return;
            }
            DefaultTableModel model= (DefaultTableModel) tblSysA.getModel();
            SystemAdmin selectedAdmin = (SystemAdmin) model.getValueAt(selectedRowIndex, 0);
            sAdmin.deleteSysA(selectedAdmin);
            JOptionPane.showMessageDialog(this, "System Admin deleted");
            populateTable();
        }
        else{
            JOptionPane.showMessageDialog(this,"Row empty.");
        }
    }//GEN-LAST:event_btnDeleteSysAActionPerformed

    private void txtSysAIDActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtSysAIDActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtSysAIDActionPerformed

    private void txtSysAPswdActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtSysAPswdActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtSysAPswdActionPerformed

    private void txtSysAUnameActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtSysAUnameActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtSysAUnameActionPerformed


    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton btnDeleteSysA;
    private javax.swing.JButton btnViewSysA;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JLabel lblSysAID;
    private javax.swing.JLabel lblSysAName;
    private javax.swing.JLabel lblSysApswd;
    private javax.swing.JLabel lblSysAuname;
    private javax.swing.JLabel lblViewSysA;
    private javax.swing.JTable tblSysA;
    private javax.swing.JTextField txtSysAID;
    private javax.swing.JTextField txtSysAName;
    private javax.swing.JTextField txtSysAPswd;
    private javax.swing.JTextField txtSysAUname;
    // End of variables declaration//GEN-END:variables

private void populateTable() {
        DefaultTableModel model= (DefaultTableModel) tblSysA.getModel();
        model.setRowCount(0);
        
        for(SystemAdmin sa : sAdmin.getSAdmin()){
            Object[] row = new Object[4];
            row[0] = sa;
            row[1] = sa.getSysName();
            row[2] = sa.getSysUsername();
            row[3] = sa.getSysPassword();
            model.addRow(row);
        }
    }
}
